<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NoHax Blog</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

<div class="hero-bg"></div>
<div class="overlay"></div>

<!-- NAVBAR -->
<nav class="navbar">
    <div class="nav-left">
        <div class="cyber-icon">⚡</div>
        <div class="nav-title">NoHax Lab</div>
    </div>
    <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="#posts-anchor">Posts</a>
        <a href="#about-anchor">About</a>
        <a href="https://github.com/NoHax" target="_blank">GitHub</a>
    </div>
</nav>

<!-- HEADER -->
<div class="header">
    <div class="typewriter">
        <h1>NoHax Blog</h1>
    </div>
</div>

<!-- ABOUT -->
<a id="about-anchor"></a>
<div class="about-container">
    <div class="about-card">
        <div class="avatar-wrap">
            <img src="assets/anhthobaymau7.jpg" alt="NoHax avatar">
        </div>
        <div class="about-text">
            <h2>About Me</h2>
            <p>Hello, <b>NoHax</b> — just like DFIR, but hate Codinggggg :)))</p>
            <p>This place is to host my CTF write-ups, DFIR notes, and challenges I found in Wargames :)))</p>
        </div>
    </div>
</div>

<!-- POSTS -->
<a id="posts-anchor"></a>
<div class="post-container" id="posts">
    <h2 style="color:#9ff; text-align:center; grid-column:1/-1;">Loading posts...</h2>
</div>

<!-- FOOTER -->
<div class="footer">
    <span>[*]</span> Powered by GitHub Pages · Logged in as <span>NoHax</span> · &copy; 2025
</div>

<script>
    const USERNAME = "housenight";
    const REPO = "blogs";

    async function loadPosts() {
        const api = `https://api.github.com/repos/${USERNAME}/${REPO}/contents`;

        try {
            const res = await fetch(api);
            const files = await res.json();

            const postContainer = document.getElementById("posts");
            postContainer.innerHTML = "";

            files.forEach(file => {
                if (file.name.endsWith(".md")) {
                    const title = file.name.replace(".md", "");
                    postContainer.innerHTML += `
                        <a class="post-card" href="post.html?file=${file.name}">
                            <h2>${title}</h2>
                            <p>Bài viết từ GitHub repo → ${REPO}</p>
                        </a>
                    `;
                }
            });

            if (!postContainer.innerHTML.trim()) {
                postContainer.innerHTML = "<p style='color:#fff;'>Repo blogs chưa có file .md nào.</p>";
            }

        } catch (error) {
            document.getElementById("posts").innerHTML = "<p style='color:#fff;'>Lỗi tải bài viết.</p>";
        }
    }

    loadPosts();
</script>

</body>
</html>
